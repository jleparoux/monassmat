<div class="modal-form">
  <div class="row">
    <div class="label">Date</div>
    <div class="value"><strong>{{ day }}</strong></div>
  </div>

  {% if saved %}
    <div class="notice notice--ok">Enregistre.</div>
  {% endif %}

  {% set labels = {
    "normal": "Journee de travail",
    "absence": "Absence",
    "unpaid_leave": "Conge sans solde"
  } %}

  <form
    hx-post="/contracts/{{ contract_id }}/workdays"
    hx-target="#modalContent"
    hx-swap="innerHTML"
  >
    <input type="hidden" name="date" value="{{ day }}" />

    <label class="field">
      <span>Type de journee</span>
      <select name="kind" required>
        {% for k in kinds %}
          <option value="{{ k }}" {% if kind == k %}selected{% endif %}>{{ labels.get(k, k) }}</option>
        {% endfor %}
      </select>
    </label>

    <label class="field">
      <span>Heures</span>
      <input name="hours" type="number" step="0.25" min="0" value="{{ hours or 0 }}" required />
    </label>

    <div class="preview">
      <div class="preview__label">Apercu</div>
      <div class="preview__value">{{ hours or 0 }} h</div>
    </div>

    <div class="actions">
      <button class="btn btn-secondary" type="button" data-close="true">Annuler</button>
      <button class="btn btn-primary" type="submit">Sauvegarder</button>
    </div>
  </form>
</div>
